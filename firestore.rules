rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Signed-in users can read and write portfolio items
    match /portfolio/{docId} {
      allow read, write: if request.auth != null;
    }
    // Signed-in users can read and write home content
    match /homeContent/{docId} {
      allow read, write: if request.auth != null;
    }
    // Shortlinks: public read (for redirects), write only when signed in
    match /redirects/{slug} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    // Everything else: deny
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
